<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: MochaUtils</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: MochaUtils</h1>

    




<section>

<header>
    
        <h2>MochaUtils</h2>
        
            <div class="class-description"><p>This class is a helper that will run Mocha tests and offers consistent
error reporting.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="MochaUtils"><span class="type-signature"></span>new MochaUtils<span class="signature">()</span><span class="type-signature"></span></h4>

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils_mocha.js.html">utils/mocha.js</a>, <a href="utils_mocha.js.html#line56">line 56</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Examples</h5>
    
        <p class="code-caption">Usage in Browser Window</p>
    
    <pre class="prettyprint"><code>&lt;script src="/node_modules/sw-testing-helpers/browser/mocha-utils.js">&lt;/script>
&lt;script>
console.log(window.goog.mochaUtils);
&lt;/script></code></pre>

        <p class="code-caption">Usage in Service Worker</p>
    
    <pre class="prettyprint"><code>importScripts('/node_modules/sw-testing-helpers/browser/mocha-utils.js');
console.log(self.goog.mochaUtils);</code></pre>

        <p class="code-caption">Usage in Node</p>
    
    <pre class="prettyprint"><code>const mochaUtils = require('sw-testing-helpers').mochaUtils;
console.log(mochaUtils);</code></pre>



    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="prettyPrintErrors"><span class="type-signature"></span>prettyPrintErrors<span class="signature">(identifier, testResults)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Present any failed tests in a friendly format. Useful if you are running
tests on a CI like Travis and want to be able to understand the errors
quickly.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>identifier</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">This will be printed at the top of the output.
It should be something that will help you identify which tests these logs
belong to (i.e. the service worker file, or browser name).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>testResults</code></td>
            

            <td class="type">
            
                
<span class="param-type">MochaTestRestuls</span>


            
            </td>

            

            

            <td class="description last">The results to log.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils_mocha.js.html">utils/mocha.js</a>, <a href="utils_mocha.js.html#line255">line 255</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The return is a string that can be prited to
standard out. If there are any errors this method will return null.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="startInBrowserMochaTests"><span class="type-signature"></span>startInBrowserMochaTests<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="global.html#MochaTestResults">MochaTestResults</a>>}</span></h4>

    



<div class="description">
    Start Mocha tests in a browser, checking for leaks and
collect passed / failed results, resolving the promise with the results
in a friendly format.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils_mocha.js.html">utils/mocha.js</a>, <a href="utils_mocha.js.html#line64">line 64</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The resutls from the Mocha test
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="global.html#MochaTestResults">MochaTestResults</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="startServiceWorkerMochaTests"><span class="type-signature"></span>startServiceWorkerMochaTests<span class="signature">(swPath)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="global.html#MochaTestResults">MochaTestResults</a>>}</span></h4>

    



<div class="description">
    <p>Register a service worker and send a message to the service
worker to start running Mocha tests in the worker.</p>

<p>It's expected that the service worker will import `mocha-utils.js` to
make this work seamlessly.</p>

<p>This requires `window-utils.js` to be added to the page.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>swPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The path to a service worker</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils_mocha.js.html">utils/mocha.js</a>, <a href="utils_mocha.js.html#line126">line 126</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise resolves when the tests
in the service worker have completed, returned the results.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="global.html#MochaTestResults">MochaTestResults</a>></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="startWebDriverMochaTests"><span class="type-signature"></span>startWebDriverMochaTests<span class="signature">(browserName, driver, url)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="global.html#MochaTestResults">MochaTestResults</a>>}</span></h4>

    



<div class="description">
    <p>Print the User Agent of the browser, load the page
the Mocha tests are in and wait for the results.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>browserName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Name to be printed with the browsers UserAgent</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>driver</code></td>
            

            <td class="type">
            
                
<span class="param-type">WebDriver</span>


            
            </td>

            

            

            <td class="description last">Instance of a <a href="http://selenium.googlecode.com/git/docs/api/javascript/class_webdriver_WebDriver.html%20"> WebDriver</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">URL of that has mocha tests.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="utils_mocha.js.html">utils/mocha.js</a>, <a href="utils_mocha.js.html#line186">line 186</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns the results from the browsers tests
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="global.html#MochaTestResults">MochaTestResults</a>></span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-sw-testing-helpers.html">sw-testing-helpers</a></li></ul><h3>Classes</h3><ul><li><a href="MochaUtils.html">MochaUtils</a></li><li><a href="SWUtils.html">SWUtils</a></li><li><a href="TestServer.html">TestServer</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Aug 16 2016 19:45:40 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>